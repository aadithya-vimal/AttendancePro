<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Attendance Pro</title>
    <link rel="icon" type="image/x-icon" href="AttendanceApplication.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Identity Services SDK -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #121212, #1a1a2e); }
        .glow { animation: glow 2s ease-in-out infinite alternate; }
        @keyframes glow { from { box-shadow: 0 0 5px rgba(255, 255, 255, 0.1); } to { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); } }
        .text-gradient { background: linear-gradient(90deg, #a5b4fc, #818cf8); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .login-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="gradient-bg min-h-screen flex items-center justify-center p-4 text-white">

    <!-- This div is required for the Google Sign-In button to render -->
    <div id="g_id_onload"
         data-client_id="1061249192401-e3in38qaqiqi4avu5pqkjkp86pjnnh9r.apps.googleusercontent.com" 
         data-callback="handleCredentialResponse"
         data-auto_prompt="false">
    </div>

    <div class="w-full max-w-sm">
        <header class="text-center mb-8">
            <div class="inline-block mb-6"><div class="bg-white/5 backdrop-blur-lg rounded-full p-4 shadow-lg glow"><i class="fas fa-calendar-check text-3xl text-gradient"></i></div></div>
            <h1 class="text-3xl md:text-4xl font-bold mb-2 text-gradient">Attendance Pro</h1>
            <p class="text-white/80">Sign in to continue</p>
        </header>
        
        <div class="login-card rounded-xl p-8 shadow-xl">
            <h2 class="text-2xl font-bold text-center mb-6 text-white/90">Welcome</h2>
            <div id="g_id_signin"
                 data-type="standard"
                 data-size="large"
                 data-theme="outline"
                 data-text="sign_in_with"
                 data-shape="rectangular"
                 data-logo_alignment="left">
            </div>
            <div id="errorMessage" class="text-red-400 text-sm text-center mt-4"></div>
        </div>
    </div>

    <!-- Firebase SDK Scripts -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
      import { getAuth, GoogleAuthProvider, signInWithCredential } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDl26G3Iki090KsKYgS3uG4jDdTYU9bLjw",
        authDomain: "attendance-pro-76984.firebaseapp.com",
        projectId: "attendance-pro-76984",
        storageBucket: "attendance-pro-76984.appspot.com",
        messagingSenderId: "1061249192401",
        appId: "1:1061249192401:web:93a7db035a0e14bb2910f0",
        measurementId: "G-WPDEYXTNFY"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      // This function is called by the Google SDK after a successful sign-in
      window.handleCredentialResponse = async (response) => {
        try {
          // Create a Google credential with the ID token.
          const idToken = response.credential;
          const credential = GoogleAuthProvider.credential(idToken);
          
          // Sign in with the credential.
          await signInWithCredential(auth, credential);

          // On successful sign-in, redirect to the main app page.
          window.location.href = './index.html';

        } catch (error) {
          console.error("Firebase sign-in error:", error);
          document.getElementById('errorMessage').textContent = 'Failed to sign in. Please try again.';
        }
      };
    </script>
</body>
</html>

